DROP DATABASE IF EXISTS epass_db;

CREATE DATABASE epass_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

CREATE USER 'epassuser'@'localhost' IDENTIFIED BY 'hC8nIj7GGMKk504i98vQ';

GRANT ALL PRIVILEGES ON epass_db.* TO 'epassuser'@'localhost';
FLUSH PRIVILEGES;

CREATE TABLE IF NOT EXISTS `concession_data` (
	`id` INT NOT NULL AUTO_INCREMENT,
	`user_id` INT NOT NULL DEFAULT '0',
	`s_name` VARCHAR(250) NULL DEFAULT '' COLLATE 'utf8mb4_unicode_ci',
	`b_date` DATETIME NULL DEFAULT NULL,
	`age` INT NULL DEFAULT NULL,
	`gender` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_unicode_ci',
	`department` VARCHAR(200) NULL DEFAULT NULL COLLATE 'utf8mb4_unicode_ci',
	`address` LONGTEXT NULL DEFAULT NULL COLLATE 'utf8mb4_unicode_ci',
	`adhar_no` VARCHAR(250) NULL DEFAULT NULL COLLATE 'utf8mb4_unicode_ci',
	`phone_no` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_unicode_ci',
	`destination` VARCHAR(250) NULL DEFAULT NULL COLLATE 'utf8mb4_unicode_ci',
	`duration` TINYINT NULL DEFAULT NULL,
	`is_active` INT NULL DEFAULT NULL,
	`status` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_unicode_ci',
	`email_id` VARCHAR(150) NULL DEFAULT NULL COLLATE 'utf8mb4_unicode_ci',
	`created_at` DATETIME NULL DEFAULT (CURRENT_TIMESTAMP),
	`updated_at` DATETIME NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
	PRIMARY KEY (`id`) USING BTREE,
	INDEX `user_id` (`user_id`) USING BTREE
)
COLLATE='utf8mb4_unicode_ci'
ENGINE=InnoDB
;

ALTER TABLE `accounts_user`
	ADD COLUMN `user_id` INT(20) NULL AUTO_INCREMENT AFTER `id`;

